<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">


<head th:fragment="head">
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title th:text="'Spring Boot + Thymeleaf + Data JPA -' + ${titulo}"></title>
<link rel="stylesheet" th:href="@{/css/bootstrap3.min.css}">
<link th:src="@{/js/jquery3.min.js}">
<link th:src="@{/js/bootstrap3.min.js}">
<link rel="stylesheet" th:href="@{/css/styles.css}">
</head>



<body>

	<header th:fragment="header">

		<nav class="navbar navbar-inverse">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse"
						data-target="#myNavbar">
						<span class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">Logo</a>
				</div>
				<div class="collapse navbar-collapse" id="myNavbar">
					<ul class="nav navbar-nav">
						<li><a th:href="@{/main}">Home</a></li>
						<li><a th:href="@{/shop}">Shop</a></li>
						<li><a th:href="@{/info}">Contact</a></li>
						<li><a th:href="@{/gestion-productos}">Admin Productos</a></li>
						<li><a th:href="@{/listar}">Admin Clientes</a></li>
					</ul>
					<ul class="nav navbar-nav navbar-right">

						<li sec:authorize="!isAuthenticated()"><a
							class="btn btn-outline-primary" th:href="@{/login}">Sign In</a></li>

						<li sec:authorize="isAuthenticated()" class="dropdown show"><a
							class="btn btn-outline-primary dropdown-toggle" href="#"
							role="button" id="dropdownMenuLink" data-toggle="dropdown"
							aria-haspopup="true" aria-expanded="false"><span
								sec:authentication="name"></span> </a>

							<div class="dropdown-menu" aria-labelledby="dropdownMenuLink">

								<form id="logoutForm" th:action="@{/logout}" method="post">
									<button class="dropdown-item"
										onclick="document.getElementById('logoutForm').submit();"
										type="submit">Sign Out</button>
									<input type="hidden" th:name="${_csrf.parameterName}"
										th:value="${_csrf.token}"></input>
								</form>

							</div></li>
						<li><a href="@{/profile}"><span></span>Profile</a></li>
						<li><a sec:authorize="hasRole('ROLE_ADMIN')"
							th:href="@{'/factura/form/' + ${idUser}}">Cart</a></li>
					</ul>
				</div>
			</div>
		</nav>

	</header>

	<div class="container"></div>

	<footer th:fragment="footer" class="container-fluid text-center">
		<p sec:authorize="isAuthenticated()">
			Usuario Logueado : <span sec:authentication="name"></span> | Rol: <span
				sec:authentication="principal.authorities"></span>
		</p>
		<form class="form-inline">
			Get deals: <input type="email" class="form-control" size="50"
				placeholder="Email Address">
			<button type="button" class="btn btn-danger">Sign Up</button>
		</form>
		<p>Online Store Copyright</p>
	</footer>
</body>
</html>